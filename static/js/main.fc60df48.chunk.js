(window["webpackJsonphacker-news-ivankomjenic"]=window["webpackJsonphacker-news-ivankomjenic"]||[]).push([[0],{46:function(n,e,t){n.exports=t(80)},80:function(n,e,t){"use strict";t.r(e);var r=t(0),o=t.n(r),a=t(11),c=t.n(a),i=t(10),u=t(8),l=t(9),s=t(35),f=t.n(s),d=Object({NODE_ENV:"production",PUBLIC_URL:"/hacker-news-ivankomjenic"}).URL||"http://localhost:3000/",p=2e4,h={"Content-Type":"application/json",Accept:"application/json"},m=new(function(){function n(e){var t=e.baseURL,r=void 0===t?d:t,o=e.timeout,a=void 0===o?p:o,c=e.headers,i=void 0===c?h:c,l=e.auth;Object(u.a)(this,n);var s=f.a.create({baseURL:r,timeout:a,headers:i,auth:l});s.interceptors.response.use(this.handleSuccess,this.handleError),this.client=s}return Object(l.a)(n,[{key:"handleSuccess",value:function(n){return n}},{key:"handleError",value:function(n){return Promise.reject(n)}},{key:"get",value:function(n){return this.client.get(n).then((function(n){return n.data}))}},{key:"post",value:function(n,e){return this.client.post(n,e).then((function(n){return n.data}))}},{key:"put",value:function(n,e){return this.client.put(n,e).then((function(n){return n.data}))}},{key:"patch",value:function(n,e){return this.client.patch(n,e).then((function(n){return n.data}))}},{key:"delete",value:function(n){return this.client.delete(n).then((function(n){return n.data}))}}]),n}())({baseURL:"https://hacker-news.firebaseio.com/v0"}),g={};g.getTopStoryIds=function(){return m.get("/topstories".concat(".json?print=pretty"))},g.getStory=function(n){return m.get("/item/".concat(n).concat(".json?print=pretty"))},g.getStoriesByPage=function(n,e){var t=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{begin:e*n,end:(e+1)*n}}(20,e),r=function(n){var e=n.begin,t=n.end;return n.items.slice(e,t)}({begin:t.begin,end:t.end,items:n}).map((function(n){return g.getStory(n)}));return Promise.all(r)};var b=g,v="@hnIvan/story",E={FETCH_STORY_IDS_REQUEST:"".concat(v,"/FETCH_STORY_IDS_REQUEST"),FETCH_STORY_IDS_SUCCESS:"".concat(v,"/FETCH_STORY_IDS_SUCCESS"),FETCH_STORY_IDS_FAILURE:"".concat(v,"/FETCH_STORY_IDS_FAILURE"),FETCH_STORIES_REQUEST:"".concat(v,"/FETCH_STORIES_REQUEST"),FETCH_STORIES_SUCCESS:"".concat(v,"/FETCH_STORIES_SUCCESS"),FETCH_STORIES_FAILURE:"".concat(v,"/FETCH_STORIES_FAILURE")},y=function(n,e){return{type:n,payload:e}},S={fetchStoryIds:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e){return e(y(E.FETCH_STORY_IDS_REQUEST,n)),b.getTopStoryIds().then((function(n){return e(y(E.FETCH_STORY_IDS_SUCCESS,{storyIds:n})),e(S.fetchStories({storyIds:n,page:0})),n})).catch((function(n){return e(y(E.FETCH_STORY_IDS_FAILURE,n))}))}},fetchStories:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e){e(y(E.FETCH_STORIES_REQUEST,n));var t=n.storyIds,r=n.page;return b.getStoriesByPage(t,r).then((function(n){return e(y(E.FETCH_STORIES_SUCCESS,{stories:n}))})).catch((function(n){return e(y(E.FETCH_STORIES_FAILURE,n))}))}}},O=S,j=t(36),w=Object(j.a)((function(n){return n.story.storyIds}),(function(n){return n.story.stories}),(function(n,e){return n.length>e.length})),x=t(14),T=t(12),_=t(15),k=t(1),I=t(37),C=t.n(I),R=t(38),F=t(39),U=t.n(F),H=function(n){var e="";return n&&(n.includes("//")||(n="http://".concat(n)),e=U.a.parse(n).hostname),e.includes("www.")&&(e=e.split("www.")[1]),e},A="https://news.ycombinator.com",L="".concat(A,"/item?id="),P="".concat(A,"/user?id="),D=function(n){var e=n.url,t=n.id,r="".concat(L).concat(t);return e||r},Y=t(2);function N(){var n=Object(Y.a)(["\n    color: ",";\n\n    &:visited {\n        color: ",";\n    }\n"]);return N=function(){return n},n}function z(){var n=Object(Y.a)(["\n    font-size: 14px;\n    color: ",";\n"]);return z=function(){return n},n}function B(){var n=Object(Y.a)(["\n    color: ",";\n    display: flex;\n    width: 100%;\n    height: 100%;\n    flex-direction: row;\n    align-items: center;\n    text-decoration: none;\n"]);return B=function(){return n},n}function M(){var n=Object(Y.a)(["\n    color: ",";\n    font-size: 12px;\n"]);return M=function(){return n},n}function Q(){var n=Object(Y.a)(["\n    color: ",";\n    margin-top: 0;\n    margin-bottom: 6px;\n    font-weight: 400;\n    font-size: 16px;\n    letter-spacing: 0.4px;\n"]);return Q=function(){return n},n}function W(){var n=Object(Y.a)(["\n    border-bottom: 1px solid ",";\n    padding: 14px 24px;\n\n    &:last-child {\n        border-bottom: none;\n    }\n"]);return W=function(){return n},n}var J=k.c.li(W(),(function(n){return n.theme.border})),V=k.c.h3(Q(),(function(n){return n.theme.text})),G=k.c.span(M(),(function(n){return n.theme.textSecondary})),K=k.c.a(B(),(function(n){return n.theme.text})),X=k.c.div(z(),(function(n){return n.theme.textSecondary})),$=k.c.a(N(),(function(n){return n.theme.textSecondary}),(function(n){return n.theme.textSecondary})),q="noopener noreferrer nofollow",Z=function(n){var e=n.by,t=n.score,r=n.kids,a=void 0===r?[]:r,c=n.title,i=n.url,u=n.time,l=n.id,s=H(i)||"news.ycombinator.com",f=D({url:i,id:l}),d="".concat(L).concat(l),p="".concat(P).concat(e);return o.a.createElement(J,null,o.a.createElement(K,{href:f,rel:q,target:"_blank"},o.a.createElement(V,null,c," ",o.a.createElement(G,null,"(",s,")")," ")),o.a.createElement(X,null,t," points by"," ",o.a.createElement($,{href:p,rel:q,target:"_blank"},e," "),Object(R.format)(new Date(1e3*u).toISOString())," | ",o.a.createElement($,{href:d,rel:q,target:"_blank"},a.length," Comments")))};function nn(){var n=Object(Y.a)(["\n    background-color: ",";\n    border-radius: 4px;\n    margin: 0 auto;\n    margin-bottom: 20px;\n    display: flex;\n    flex-direction: column;\n"]);return nn=function(){return n},n}var en=k.c.ul(nn(),(function(n){return n.theme.backgroundSecondary})),tn=function(n){var e=n.stories;return o.a.createElement(en,null,e.map((function(n){return o.a.createElement(Z,Object.assign({key:n.id},n))})))};function rn(){var n=Object(Y.a)(["\n    text-align: center;\n\n    span {\n        color: ",";\n        display: inline-block;\n        margin: 0 4px;\n        font-size: 80px;\n        line-height: 0.1;\n        animation-name: ",";\n        animation-duration: 1s;\n        animation-iteration-count: infinite;\n        animation-fill-mode: both;\n    }\n\n    span:nth-child(2) {\n        animation-delay: 0.2s;\n    }\n\n    span:nth-child(3) {\n        animation-delay: 0.4s;\n    }\n"]);return rn=function(){return n},n}function on(){var n=Object(Y.a)(["\n    0%{\n        opacity: .2;\n    }\n    20%{\n        opacity: 1;\n    }\n    100%{\n        opacity: .2;\n    }\n"]);return on=function(){return n},n}var an=Object(k.d)(on()),cn=k.c.div(rn(),(function(n){return n.theme.textSecondary}),an),un=function(){return o.a.createElement(cn,null,o.a.createElement("span",null,"."),o.a.createElement("span",null,"."),o.a.createElement("span",null,"."))},ln={SET_THEME:"".concat("@hnIvan/app","/SET_THEME"),SET_LAYOUT:"".concat("@hnIvan/app","/SET_LAYOUT")},sn={setTheme:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:ln.SET_THEME,payload:n}},setLayout:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:ln.SET_LAYOUT,payload:n}}},fn="grid",dn="list",pn="dark",hn="light",mn="@media only screen and (max-width: 768px)";function gn(){var n=Object(Y.a)(["\n    display: flex;\n"]);return gn=function(){return n},n}function bn(){var n=Object(Y.a)(["\n    height: ","px;\n"]);return bn=function(){return n},n}function vn(){var n=Object(Y.a)(["\n    height: 20px;\n    border-radius: 2px;\n    margin-right: 8px;\n"]);return vn=function(){return n},n}function En(){var n=Object(Y.a)(["\n    margin-left: 12px;\n    font-size: 18px;\n    cursor: pointer;\n"]);return En=function(){return n},n}function yn(){var n=Object(Y.a)(["\n    display: flex;\n    align-items: center;\n"]);return yn=function(){return n},n}function Sn(){var n=Object(Y.a)(["\n    height: 100%;\n    width: 100%;\n    max-width: 85%;\n    margin-left: auto;\n    margin-right: auto;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n\n    "," {\n        max-width: 96%;\n    }\n"]);return Sn=function(){return n},n}function On(){var n=Object(Y.a)(["\n    background-color: ",";\n    height: ","px;\n    color: ",";\n    width: 100%;\n    box-shadow: 0 1px 0 0 black;\n    position: fixed;\n    top: 0;\n"]);return On=function(){return n},n}var jn=k.c.header(On(),(function(n){return n.theme.backgroundSecondary}),48,(function(n){return n.theme.text})),wn=k.c.div(Sn(),mn),xn=k.c.div(yn()),Tn=k.c.div(En()),_n=k.c.img(vn()),kn=k.c.div(bn(),48),In=k.c.a(gn()),Cn=function(n){var e=n.layout,t=n.theme,r=n.setLayout,a=n.setTheme;return o.a.createElement("div",null,o.a.createElement(jn,null,o.a.createElement(wn,null,o.a.createElement(xn,null,o.a.createElement(In,{href:"https://github.com/komjenic/hacker-news-ivankomjenic",target:"_blank"},o.a.createElement(_n,{src:"./logo192.png",alt:"logo"})," Ivan Komjenic Source Code")),o.a.createElement(xn,null,e===dn?o.a.createElement(Tn,{onClick:function(){return r(fn)}},o.a.createElement("i",{className:"fas fa-th-large"})):o.a.createElement(Tn,{onClick:function(){return r(dn)}},o.a.createElement("i",{className:"fas fa-th-list"})),t===hn?o.a.createElement(Tn,{onClick:function(){return a(pn)}},o.a.createElement("i",{className:"fas fa-moon"})):o.a.createElement(Tn,{onClick:function(){return a(hn)}},o.a.createElement("i",{className:"fas fa-sun"}))))),o.a.createElement(kn,null))},Rn=Object(i.b)((function(n){return{layout:n.app.layout,theme:n.app.theme}}),(function(n){return{setTheme:function(e){return n(sn.setTheme({theme:e}))},setLayout:function(e){return n(sn.setLayout({layout:e}))}}}))(Cn);function Fn(){var n=Object(Y.a)(["\n  color: ",";\n  border-top: 1px solid ",";\n  padding: 16px;\n"]);return Fn=function(){return n},n}function Un(){var n=Object(Y.a)(["\n  color: ",";\n  margin: 0;\n  padding: 16px;\n  padding-bottom: 70px;\n  font-size: 16px;\n  font-weight: 400;\n  flex-grow: 1;\n"]);return Un=function(){return n},n}function Hn(){var n=Object(Y.a)(["\n  background-color: ",";\n  border-bottom-left-radius: ","px;\n  border-bottom-right-radius: ","px;\n  word-break: break-word;\n  display: flex;\n  flex-direction: column;\n  flex-grow: 1;\n"]);return Hn=function(){return n},n}function An(){var n=Object(Y.a)(["\n  display: block;\n  height: 240px;\n  max-width: 100%;\n  border-top-left-radius: ","px;\n  border-top-right-radius: ","px;\n  object-fit: cover;\n"]);return An=function(){return n},n}function Ln(){var n=Object(Y.a)(["\n  display: flex;\n  flex-direction: column;\n"]);return Ln=function(){return n},n}function Pn(){var n=Object(Y.a)(["\n  flex-direction: column;\n  display: flex;\n  height: 100%;\n"]);return Pn=function(){return n},n}function Dn(){var n=Object(Y.a)(["\n  height: 100%;\n"]);return Dn=function(){return n},n}var Yn=k.c.li(Dn()),Nn=k.c.div(Pn()),zn=(k.c.a(Ln()),k.c.img(An(),4,4)),Bn=k.c.div(Hn(),(function(n){return n.theme.backgroundSecondary}),4,4),Mn=k.c.h3(Un(),(function(n){return n.theme.text})),Qn=k.c.div(Fn(),(function(n){return n.theme.textSecondary}),(function(n){return n.theme.border})),Wn=function(n){var e=n.url,t=n.title,r=n.id,a=H(e)||"news.ycombinator.com",c=D({url:e,id:r});return o.a.createElement("a",{href:c,target:"_blank",rel:"noopener noreferrer nofollow"},o.a.createElement(Yn,null,o.a.createElement(Nn,null,o.a.createElement(zn,{src:"https://miro.medium.com/max/1176/1*F9RzuXseG1VrTjFJd403gw.png"}),o.a.createElement(Bn,null,o.a.createElement(Mn,null,t),o.a.createElement(Qn,null,o.a.createElement("div",null,"// ".concat(a)))))))};function Jn(){var n=Object(Y.a)(["\n    display: flex;\n    margin-bottom: 20px;\n    display: grid;\n    grid-template-columns: repeat(3, 1fr);\n    grid-gap: 32px;\n\n    "," {\n        grid-template-columns: repeat(4, 1fr);\n    }\n\n    "," {\n        grid-template-columns: repeat(2, 1fr);\n    }\n\n    "," {\n        grid-template-columns: 1fr;\n    }\n"]);return Jn=function(){return n},n}var Vn=k.c.ul(Jn(),"@media only screen and  (min-width: 1400px)",mn,"@media only screen and (max-width: 480px)"),Gn=function(n){function e(){return Object(u.a)(this,e),Object(x.a)(this,Object(T.a)(e).apply(this,arguments))}return Object(_.a)(e,n),Object(l.a)(e,[{key:"render",value:function(){return o.a.createElement(Vn,null,this.props.stories.map((function(n){return o.a.createElement(Wn,Object.assign({key:n.id},n))})))}}]),e}(r.Component),Kn={background:"#272727",backgroundSecondary:"#393C3E",text:"#bfbebe",textSecondary:"#848886",border:"#272727"},Xn={background:"#EAEAEA",backgroundSecondary:"#F8F8F8",text:"#848886",textSecondary:"#aaaaaa",border:"#EAEAEA"};function $n(){var n=Object(Y.a)(["\n    color: ",";\n    font-size: 20px;\n    font-weight: 300;\n    margin: 24px 0 26px;\n"]);return $n=function(){return n},n}function qn(){var n=Object(Y.a)(["\n    width: 85%;\n    margin: 0 auto;\n    height: 100%;\n    overflow: hidden;\n    padding-bottom: 200px;\n\n    "," {\n        width: 96%;\n    }\n"]);return qn=function(){return n},n}var Zn=k.c.div(qn(),mn),ne=k.c.h1($n(),(function(n){return n.theme.textSecondary})),ee=function(n){function e(){var n,t;Object(u.a)(this,e);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(t=Object(x.a)(this,(n=Object(T.a)(e)).call.apply(n,[this].concat(o)))).fetchStories=function(){var n=t.props,e=n.storyIds,r=n.page,o=n.fetchStories;n.isFetching||o({storyIds:e,page:r})},t}return Object(_.a)(e,n),Object(l.a)(e,[{key:"componentDidMount",value:function(){this.props.fetchStoriesFirstPage()}},{key:"componentDidUpdate",value:function(n,e){this.setBodyBackgroundColor()}},{key:"setBodyBackgroundColor",value:function(){this.props.theme===hn?document.body.style="background-color: ".concat(Xn.background,";"):document.body.style="background-color: ".concat(Kn.background,";")}},{key:"render",value:function(){var n=this.props,e=n.stories,t=n.layout,r=n.hasMoreStories,a=n.theme;return o.a.createElement(k.a,{theme:a===hn?Xn:Kn},o.a.createElement("div",null,o.a.createElement(Rn,null),o.a.createElement(Zn,null,o.a.createElement(ne,null,"Hacker News"),o.a.createElement(C.a,{dataLength:e.length,next:this.fetchStories,hasMore:r,loader:o.a.createElement(un,null),style:{height:"100%",overflow:"visible"}},t===dn?o.a.createElement(tn,{stories:e}):o.a.createElement(Gn,{stories:e})))))}}]),e}(o.a.Component),te=Object(i.b)((function(n){return{layout:n.app.layout,theme:n.app.theme,stories:n.story.stories,page:n.story.page,storyIds:n.story.storyIds,isFetching:n.story.isFetching,hasMoreStories:w(n)}}),(function(n){return{fetchStories:function(e){var t=e.storyIds,r=e.page;return n(O.fetchStories({storyIds:t,page:r}))},fetchStoriesFirstPage:function(){return n(O.fetchStoryIds())}}}))(ee),re=t(4),oe=t(13);function ae(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function ce(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?ae(t,!0).forEach((function(e){Object(oe.a)(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):ae(t).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}var ie=function(){return{theme:pn,layout:dn}},ue=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie(),e=arguments.length>1?arguments[1]:void 0,t=e.type,r=e.payload;switch(t){case ln.SET_THEME:case ln.SET_LAYOUT:return ce({},n,{},r);default:return n}},le=t(16);function se(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function fe(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?se(t,!0).forEach((function(e){Object(oe.a)(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):se(t).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}var de=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{storyIds:[],stories:[],page:0,isFetching:!1,error:""},e=arguments.length>1?arguments[1]:void 0,t=e.type,r=e.payload;switch(t){case E.FETCH_STORY_IDS_REQUEST:case E.FETCH_STORIES_REQUEST:return fe({},n,{isFetching:!0});case E.FETCH_STORY_IDS_SUCCESS:return fe({},n,{storyIds:Object(le.a)(r.storyIds),isFetching:!1});case E.FETCH_STORIES_SUCCESS:return fe({},n,{stories:[].concat(Object(le.a)(n.stories),Object(le.a)(r.stories)),page:n.page+1,isFetching:!1});case E.FETCH_STORY_IDS_FAILURE:case E.FETCH_STORIES_FAILURE:return{error:r};default:return n}},pe=Object(re.c)({app:ue,story:de}),he=t(42),me=(t(43),[]);me.push(he.a);var ge=Object(re.d)(re.a.apply(void 0,me)),be=Object(re.e)(pe,ge);be.dispatch({type:"@hnIvan/@@INIT"});var ve=be;function Ee(){var n=Object(Y.a)(["\n    * {\n      box-sizing: border-box;\n    }\n\n    html, body {\n      font-family: Lato,Helvetica-Neue,Helvetica,Arial,sans-serif;\n      width: 100vw;\n      overflow-x: hidden;\n      margin: 0;\n      padding: 0;\n    }\n\n    ul {\n      list-style: none;\n      padding: 0;\n    }\n\n    a {\n      text-decoration: none;\n\n      &:visited {\n        color: inherit;\n      }\n    }\n  "]);return Ee=function(){return n},n}var ye=Object(k.b)(Ee()),Se=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Oe(n,e){navigator.serviceWorker.register(n).then((function(n){n.onupdatefound=function(){var t=n.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),e&&e.onUpdate&&e.onUpdate(n)):(console.log("Content is cached for offline use."),e&&e.onSuccess&&e.onSuccess(n)))})}})).catch((function(n){console.error("Error during service worker registration:",n)}))}c.a.render(o.a.createElement(i.a,{store:ve},o.a.createElement(ye,null),o.a.createElement(te,null)),document.getElementById("root")),function(n){if("serviceWorker"in navigator){if(new URL("/hacker-news-ivankomjenic",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("/hacker-news-ivankomjenic","/service-worker.js");Se?(!function(n,e){fetch(n).then((function(t){var r=t.headers.get("content-type");404===t.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(n){n.unregister().then((function(){window.location.reload()}))})):Oe(n,e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e,n),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):Oe(e,n)}))}}()}},[[46,1,2]]]);
//# sourceMappingURL=main.fc60df48.chunk.js.map